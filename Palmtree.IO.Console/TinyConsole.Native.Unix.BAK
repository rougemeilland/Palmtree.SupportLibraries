using System;
using System.Runtime.InteropServices;

namespace Palmtree.IO.Console
{
    partial class TinyConsole
    {
        private static class InterOpUnix
        {
            public const Int32 ENOTSUP = 95;
            public const Int32 STANDARD_FILE_IN = 0;
            public const Int32 STANDARD_FILE_OUT = 1;
            public const Int32 STANDARD_FILE_ERR = 2;

            [StructLayout(LayoutKind.Sequential)]
            internal struct WinSize
            {
                internal UInt16 Row;
                internal UInt16 Col;
                internal UInt16 XPixel;
                internal UInt16 YPixel;
            };

            [DllImport("libPalmtree.Console.InterOp.Unix", EntryPoint = "PalmtreeNative_GetStandardFileNo")]
            public extern static Int32 GetStandardFileNo(Int32 standardFileType);

            [DllImport("libPalmtree.Console.InterOp.Unix", EntryPoint = "PalmtreeNative_GetWindowSize")]
            public extern static Int32 GetWindowSize(Int32 consoleFileNo, out WinSize windowSize, out Int32 errno);
        }
    }
}
